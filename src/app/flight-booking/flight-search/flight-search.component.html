<div class="card">
  <div class="header">
    <h2 class="title">Flight Search</h2>
  </div>

  <div class="content">
    <form #form="ngForm">
      <div class="form-group">
        <label>From:</label>
        <input
          [(ngModel)]="from"
          name="from"
          class="form-control"
          required
          minlength="3"
          maxlength="15"
          pattern="[a-zA-Z]*"
        />
        <flight-validation-errors
          [errors]="form?.controls?.['from']?.errors"
        ></flight-validation-errors>
      </div>
      <div class="form-group">
        <label>To:</label>
        <input
          [(ngModel)]="to"
          name="to"
          class="form-control"
          required
          minlength="3"
          maxlength="15"
          pattern="[a-zA-Z]*"
        />
        <flight-validation-errors
          [errors]="form?.controls?.['to']?.errors"
        ></flight-validation-errors>
      </div>

      <div class="form-group">
        <button
          [disabled]="!to || !from || form?.invalid"
          (click)="search()"
          class="btn btn-default"
        >
          Search
        </button>
      </div>
    </form>
  </div>
</div>

<div class="row">
  <div
    *ngFor="let flight of flights"
    class="col-xs-12 col-sm-6 col-md-4 col-lg-3"
  >
    <flight-card [item]="flight" [(selected)]="basket[flight.id]">
    </flight-card>
  </div>
</div>

<div class="card">
  <div class="content">
    <pre>{{ basket | json }}</pre>
  </div>
</div>

<!-- <div class="card">
  <table class="table table-contensed" *ngIf="flights.length > 0">
    <thead>
      <tr>
        <th>Id</th>
        <th>From</th>
        <th>To</th>
        <th>Date</th>
        <th></th>
      </tr>
    </thead>
    <tr
      *ngFor="let flight of flights | statusFilter: false"
      [class.active]="flight.id === selectedFlight?.id"
    >
      <td>{{ flight.id }}</td>
      <td>{{ flight.from | city: "short" }}</td>
      <td>{{ flight.to | city: "long" }}</td>
      <td
        [ngStyle]="{
          color: flight.delayed | statusColor: flight.id === selectedFlight?.id
        }"
      >
        {{ flight.date | date: "dd.MM.YYYY HH:mm" }}
      </td>
      <td>
        <a
          (click)="select(flight)"
          [class.active]="flight.id === selectedFlight?.id"
          >Select</a
        >
      </td>
    </tr>
  </table>
</div>
<div class="card" *ngIf="selectedFlight">
  <div class="content">
    <div class="alert" *ngIf="message.length > 0">
      {{ message }}
    </div>

    <div class="form-group">
      <label>ID:</label>
      <input [(ngModel)]="selectedFlight.id" name="id" class="form-control" />
    </div>
    <div class="form-group">
      <label>From:</label>
      <input
        [(ngModel)]="selectedFlight.from"
        name="from"
        class="form-control"
      />
    </div>
    <div class="form-group">
      <label>To:</label>
      <input [(ngModel)]="selectedFlight.to" name="to" class="form-control" />
    </div>
    <div class="form-group">
      <label>Date:</label>
      <input
        [(ngModel)]="selectedFlight.date"
        name="date"
        class="form-control"
      />
    </div>

    <button class="btn btn-default" (click)="save()">Save</button>
  </div> 
</div> -->
